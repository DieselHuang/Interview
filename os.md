* 同步方式：

临界区，互斥锁，信号量，事件



* 堆和栈的区别？哪个是向高地址的？

1. 栈是系统分配的，一般是存储函数参数，局部变量等，由高地址往低地址延伸；
2. 堆是程序员分配的，由低地址往高地址延伸





* 讲一下Linux下如何将源文件逐步编译成目标文件的过程 

1. 预处理器进行预处理，将宏展开，头文件添加进来，处理诸如#ifdef等预编译指令
2. 编译器编译，进行语法分析，词法分析和语义分析这些，生成汇编代码
3. 汇编阶段，将汇编程序生成二进制文件
4. 连接阶段，例如printf这个库函数单独编译在print.o文件中，所以需要将它连接进来，生成可执行文件





* 什么时候会发生系统调用

1. 发生异常时，会trap进系统调用；
2. 调用某些c库函数时，该函数会调用系统调用；



* 栈空间在内存多大

用ulimit指令可以看到Linux下栈空间为8192。



* 数据链路层的下层是MAC，上层是什么，有什么作用？

LLC子层，负责向上提供服务，识别网络层协议，进行封装。



- 滑动窗口机制

发送方维持一个连续的、可以发送的帧的序号，称为发送窗口；接收方也维持一个连续的、可以接收的帧的序号，称为接收窗口；**接收方通过通告发送方自己的窗口大小**，从而控制发送方的发送速度，从而达到防止发送方发送速度过快而导致自己被淹没的目的。



* 内核态与用户态的区别

从cpu特权级的角度来看，cpu分为特权指令和非特权指令，0最高，3最低。

如果用户进程陷入内核代码去运行时，就是内核态，此时处理器级别处于最高级。

在Linux4g的地址空间中，其中3g-4g是内核的地址，存放着代码和数据，发生系统调用时就会执行内核中的代码，切换到内核的空间地址。



* 动态库和静态库的区别，如果两个静态库里面的函数重名如何调用，动态中的两个函数重名如何调用

静态库是将所有可执行文件模块打包成一个单独的目标文件，动态库是共享库，可以在运行时加载到任意的内存地址。避免了每次运行时都需要把调用的函数复制到运行进程的文本段里。



- epoll如何表示描述符集合

1. 新建epoll描述符==epoll_create()
2. epoll_ctrl(epoll描述符，添加或者删除所有待监控的连接)
3. 返回的活跃连接 ==epoll_wait（ epoll描述符 )



- epoll的水平触发和边缘触发

1. 水平触发(LT模式)：只要内核缓冲区还有未读数据，就会一直返回描述符的读就绪状态；只要内核缓冲区还有空间，就会一直返回描述符的写就绪状态；
2. 边沿触发：内核缓冲区由空变为不空，有新数据到达，缓冲区有空间可写，且应用进程对相应的描述符进行`EPOLL_CTL_MOD` 修改`EPOLLIN`事件时，返回读就绪；内核缓冲区由不空变为空，有旧的数据别发送走，当缓冲区有空间可写，且应用进程对相应的描述符进行`EPOLL_CTL_MOD` 修改`EPOLLOUT`事件时，就会返回写就绪；



- 虚拟内存作用，如何根据虚拟地址得到物理地址

让每个进程都有自己独立的地址空间，保证进程间的安全。首先去TLB查找虚拟内存地址对应的物理内存的页号和帧号，如果没找到，就去内存中读页表。



- 伙伴系统相关

伙伴系统的目的是用最小的内存块来满足内核对于内存的需求，是一个结合了2的方幂个分配器和空闲缓冲区合并技术的内存方案。一个大块内存会被分为两个小块内存，其中一个用来分配，一个空闲。这些块会一直二分直至产生一个所需大小的块。当一个块被释放时，会检查伙伴块是否空闲，空闲则合并。



- 操作系统是如何对内存进行管理

段页式管理内存、伙伴系统分配内存



- 进程间通信方式有哪些，哪个最快

管道、命名管道、信号、信号量、共享内存、消息队列、套接字。

共享内存



- 堆和栈的区别

1. 申请方式不同：栈是系统自动分配的，堆是程序员手动分配的
2. 申请后系统响应不同，栈是只要剩余空间足够就会分配内存，堆则是在OS内有一个维护内存地址的链表，申请内存时会遍历链表找到第一个大于申请内存的结点；
3. 申请效率不同，栈是由系统分配的，效率较高，堆可能产生碎片；
4. 申请大小限制，栈的申请容量大小是限制的，比较小；堆能申请的空间比较大，受限于虚拟内存大小；



- 线程的同步机制

互斥锁、信号量、条件变量、自旋锁



- 守护进程

守护进程是一类在后台运行的特殊进程，不受终端控制的。创建过程：

1. fork出子进程，父进程终止，让子进程在后台继续执行；
2. 在子进程中创建新的会话；
3. 改变工作目录；
4. 重设文件创建掩码；
5. 关闭文件描述符；



- 进程间的调度算法

FIFO，SJF，优先级（抢占式和非抢占式），RR，多级反馈队列



- Linux下/etc/下有那些配置文件

1. /etc/hosts提供主机名到ip地址的对应关系；
2. /etc/resolv.conf设置DNS服务器的IP地址以及DNS域名；



* 线程池的优点

1. 避免频繁创建和销毁线程带来的性能影响；
2. 如果不创建线程池，可能因为系统创建大量线程而导致消耗完系统内存；



* linux五中io模型

阻塞io，非阻塞io，多路复用io，信号驱动式io，异步io



* mutext实现原理

通过futex系统调用实现。futex是一块能被多个进程共享的内存空间，这个整型变量的值能够通过汇编语言调用cpu的原子操作来增加减少，而一个进程能够等待直到那个值变成整数。



* scp

scp是secure copy的意思，支持远程拷贝文件。

scp协议基于ssh协议，用建立的ssh连接隧道作为数据传输通道。但是scp server跟常见的server不同，它不是持续地监听端口，而是被触发运行。